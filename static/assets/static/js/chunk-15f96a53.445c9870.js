(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15f96a53"],{"3d4f":function(t,e,a){},4990:function(t,e,a){"use strict";a("3d4f")},"4bd4":function(t,e,a){"use strict";var i=a("58df"),r=a("7e2b"),o=a("3206");e["a"]=Object(i["a"])(r["a"],Object(o["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>{return t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0})},a={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",i=>{i&&(this.errorBag.hasOwnProperty(t._uid)||(a.valid=e(t)))}):a.valid=e(t),a},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const a=this.watchers.find(t=>t._uid===e._uid);a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},5326:function(t,e,a){"use strict";a.r(e);var i=a("8336"),r=a("b0af"),o=a("99d9"),s=a("62ad"),l=a("a523"),n=a("4bd4"),d=a("132d"),u=a("0fd9"),c=a("2fa4"),h=a("8654"),p=a("3a2f"),m=function(){var t=this,e=t._self._c;return e(l["a"],{staticClass:"page-login",attrs:{"fill-height":""}},[e(u["a"],[e(s["a"],{attrs:{cols:12}},[e(r["a"],{staticClass:"pa-3 page-login__card",attrs:{tile:""}},[e(o["d"],[e("div",{staticClass:"primary--text display-1"},[t._v(t._s(t.page_data.loginHeading))])]),e(o["c"],[e(n["a"],{ref:"form",staticClass:"my-10",attrs:{"lazy-validation":""},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[e(h["a"],{attrs:{"append-icon":"mdi-email",autocomplete:"off",name:"login",label:t.$t("email"),placeholder:t.$t("email"),type:"text",required:"",outlined:"",rules:t.formRule.email},model:{value:t.formModel.email,callback:function(e){t.$set(t.formModel,"email",e)},expression:"formModel.email"}}),e(h["a"],{attrs:{"append-icon":"mdi-lock",autocomplete:"off",name:"password",label:t.$t("password"),placeholder:t.$t("password"),type:"password",rules:t.formRule.password,required:"",outlined:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin.apply(null,arguments)}},model:{value:t.formModel.password,callback:function(e){t.$set(t.formModel,"password",e)},expression:"formModel.password"}})],1)],1),t.showErrors?e("v-cart-text",[e("p",{staticClass:"error--text"},[t._v("Username/Password combination is wrong")])]):t._e(),e(o["a"],[t._l(t.socialIcons,(function(a){return e(p["a"],{key:a.text,attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:o}){return[e(i["a"],t._g(t._b({attrs:{color:"primary",icon:""},on:{click:function(e){return t.handleSocialLogin(a)}}},"v-btn",o,!1),r),[e(d["a"],{domProps:{textContent:t._s(a.icon)}})],1)]}}],null,!0)},[e("span",[t._v(t._s(a.text))])])})),e(c["a"]),e(i["a"],{attrs:{large:"",text:""},on:{click:t.handleRegister}},[t._v(" "+t._s(t.$t("register"))+" ")]),e(i["a"],{attrs:{large:"",tile:"",color:"primary",loading:t.loading},on:{click:t.handleLogin}},[t._v(" "+t._s(t.$t("login"))+" ")])],2)],1)],1)],1)],1)},f=[];a("14d9");const g="page-login";var _={name:g,data(){return{showErrors:!1,page_data:{loginHeading:"Login into your acount"},loading:!1,formValid:!1,formModel:{email:"",password:""},formRule:{email:[t=>!!t||this.$t("rule.required",["email"])],password:[t=>!!t||this.$t("rule.required",["password"])]},socialIcons:[{text:"Home",icon:"mdi-home",to:"/open/home"}]}},computed:{},methods:{handleLogin(){this.$refs.form.validate()&&(this.showErrors=!1,this.loading=!0,this.$store.dispatch("login",this.formModel).then(()=>{console.log("calling then");const t=this.$route.query.redirect,e=t?{path:t}:{path:"/"};this.$router.push(e),this.loading=!1}).catch(t=>{console.log("calling error"),console.log(t),this.showErrors=!0,this.loading=!1}))},handleRegister(){console.log(this),this.$router.push("register")},handleSocialLogin(t){this.$router.push(t.to)}}},w=_,v=(a("4990"),a("2877")),$=Object(v["a"])(w,m,f,!1,null,"7c0d3d52",null);e["default"]=$.exports}}]);