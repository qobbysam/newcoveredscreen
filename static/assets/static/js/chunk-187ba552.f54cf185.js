(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-187ba552"],{"9a62":function(e,t,l){"use strict";l.r(t);var i=l("b0af"),s=l("99d9"),a=l("62ad"),o=l("0fd9"),r=function(){var e=this,t=e._self._c;return t(i["a"],[e.loading?e._e():t(s["c"],[t(o["a"],[t(a["a"],{staticClass:"text-center mx-auto",attrs:{cols:12,lg:"10"}},[t("employee-table")],1)],1)],1)],1)},n=[],d=l("8336"),c=l("a523"),u=l("8fea"),m=l("169a"),h=l("ce7e"),p=l("132d"),f=l("2fa4"),v=l("71d9"),b=l("2a7f"),g=function(){var e=this,t=e._self._c;return t(u["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.itemsList,"fixed-header":"",height:"70vh"},scopedSlots:e._u([{key:"top",fn:function(){return[t(v["a"],{attrs:{flat:""}},[t(b["b"],[e._v("My Employees")]),t(h["a"],{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(f["a"]),t(d["a"],{staticClass:"mb-2",attrs:{color:"success"}},[e._v("Download Active")]),t(f["a"]),t(m["a"],{attrs:{width:"800px"},scopedSlots:e._u([{key:"activator",fn:function({on:l,attrs:i}){return[t(d["a"],e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),l),[e._v(" Add Employee ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(i["a"],[t(v["a"],{attrs:{color:"primary"}},[t(b["b"],{attrs:{dark:""}},[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])])],1),t(s["d"]),t(s["c"],[t(c["a"],[t("EmployeeForm",{ref:"form",attrs:{touseModel:e.editedItem,isAdd:e.isadd}})],1)],1),t(s["a"],[t(f["a"]),t(d["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),t(d["a"],{attrs:{color:"blue darken-1",text:"",loading:e.loading},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),t(m["a"],{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(i["a"],[t(s["d"],{staticClass:"text-h6"},[e._v("Are you sure you want to delete this employee?")]),t(s["a"],[t(f["a"]),t(d["a"],{attrs:{color:"error darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(d["a"],{attrs:{color:"success darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),t(f["a"])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:l}){return[t(p["a"],{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(l)}}},[e._v(" mdi-pencil ")]),t(p["a"],{attrs:{small:""},on:{click:function(t){return e.deleteItem(l)}}},[e._v(" mdi-delete ")])]}},{key:"item.is_active",fn:function({item:l}){return[l.is_active?t(p["a"],{attrs:{color:"success"}},[e._v("mdi-account-check")]):t(p["a"],{attrs:{color:"error"}},[e._v(" mdi-account-remove")])]}},{key:"item.is_selected_random",fn:function({item:l}){return[l.is_selected_random?t(p["a"],{attrs:{color:"error"}},[e._v("mdi-account-check")]):t(p["a"],{attrs:{color:"success"}},[e._v(" mdi-account-remove")])]}},{key:"no-data",fn:function(){return[t("div",{staticClass:"text-h5"},[e._v(" No Employees ")])]},proxy:!0}])})},_=[],x=l("2f62"),y=l("2e4b"),k=l("4bd4"),M=l("e449"),w=l("b974"),C=l("b73d"),E=l("8654"),S=function(){var e=this,t=e._self._c;return t(i["a"],{staticClass:"mx-auto"},[t(s["c"],[e.useSelect?t(o["a"],[t(a["a"],{attrs:{xl:10,lg:10,md:10,sm:12,xs:12}},[t(w["a"],{attrs:{outlined:"",label:"Choose Employee",placeholder:"Choose Employee",items:this.allemployees,"item-text":e=>e.first_name+" - "+e.last_name,"item-value":"id","return-object":""},on:{change:function(t){return e.handleSelected(e.select)}},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1)],1):e._e()],1),t(s["c"],[t(k["a"],{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(o["a"],[t(a["a"],{attrs:{cols:12,md:4,lg:4,xl:4,sm:12,xs:12}},[t(E["a"],{attrs:{outlined:"",label:e.form.firstname.label,placeholder:e.form.firstname.placeholder,required:"",rules:e.form.firstname.rules},model:{value:e.formModel.first_name,callback:function(t){e.$set(e.formModel,"first_name",t)},expression:"formModel.first_name"}})],1),t(a["a"],{attrs:{cols:12,md:4,lg:4,xl:4,sm:12,xs:12}},[t(E["a"],{attrs:{outlined:"",label:e.form.middlename.label,placeholder:e.form.middlename.placeholder},model:{value:e.formModel.middle_name,callback:function(t){e.$set(e.formModel,"middle_name",t)},expression:"formModel.middle_name"}})],1),t(a["a"],{attrs:{cols:12,md:4,lg:4,xl:4,sm:12,xs:12}},[t(E["a"],{attrs:{outlined:"",label:e.form.lastname.label,placeholder:e.form.lastname.placeholder,required:"",rules:e.form.lastname.rules},model:{value:e.formModel.last_name,callback:function(t){e.$set(e.formModel,"last_name",t)},expression:"formModel.last_name"}})],1),t(a["a"],{attrs:{cols:10}},[t("div",[t(M["a"],{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function({on:l,attrs:i}){return[t(E["a"],e._g(e._b({attrs:{label:"Date of Birth","prepend-icon":"mdi-calendar",readonly:"",required:"",rules:e.form.lastname.rules},model:{value:e.formModel.date_of_birth,callback:function(t){e.$set(e.formModel,"date_of_birth",t)},expression:"formModel.date_of_birth"}},"v-text-field",i,!1),l))]}}]),model:{value:e.formModel.menu,callback:function(t){e.$set(e.formModel,"menu",t)},expression:"formModel.menu"}},[t(y["a"],{attrs:{"active-picker":e.formModel.activePicker,max:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),min:"1950-01-01"},on:{"update:activePicker":function(t){return e.$set(e.formModel,"activePicker",t)},"update:active-picker":function(t){return e.$set(e.formModel,"activePicker",t)},change:e.save},model:{value:e.formModel.date_of_birth,callback:function(t){e.$set(e.formModel,"date_of_birth",t)},expression:"formModel.date_of_birth"}})],1)],1)]),t(a["a"],{attrs:{cols:12,md:6,lg:6,xl:6,sm:12,xs:12}},[t(E["a"],{attrs:{outlined:"",label:e.form.email.label,placeholder:e.form.email.placeholder,"append-icon":e.form.email.icon,required:"",rules:e.form.email.rules},model:{value:e.formModel.email,callback:function(t){e.$set(e.formModel,"email",t)},expression:"formModel.email"}})],1),t(a["a"],{attrs:{cols:12,md:6,lg:6,xl:6,sm:12,xs:12}},[t(E["a"],{attrs:{outlined:"",label:e.form.phone.label,placeholder:e.form.phone.placeholder,required:"",rules:e.form.phone.rules,"append-icon":e.form.phone.icon},model:{value:e.formModel.phone_number,callback:function(t){e.$set(e.formModel,"phone_number",t)},expression:"formModel.phone_number"}})],1),t(a["a"],{attrs:{cols:12,md:6,lg:6,xl:6,sm:12,xs:12}},[t(w["a"],{attrs:{outlined:"",label:e.form.licensestate.label,placeholder:e.form.licensestate.placeholder,rules:e.form.licensestate.rules,items:e.states,required:""},model:{value:e.formModel.license_state,callback:function(t){e.$set(e.formModel,"license_state",t)},expression:"formModel.license_state"}})],1),t(a["a"],{attrs:{cols:12,md:6,lg:6,xl:6,sm:12,xs:12}},[t(E["a"],{attrs:{outlined:"",label:e.form.licensenumber.label,placeholder:e.form.licensenumber.placeholder,required:"",rules:e.form.licensenumber.rules,"append-icon":e.form.licensenumber.icon},model:{value:e.formModel.license_number,callback:function(t){e.$set(e.formModel,"license_number",t)},expression:"formModel.license_number"}})],1),t(a["a"],{attrs:{cols:12,md:6,lg:6,xl:6,sm:12,xs:12}},[t(C["a"],{attrs:{label:"Active"},model:{value:e.formModel.is_active,callback:function(t){e.$set(e.formModel,"is_active",t)},expression:"formModel.is_active"}})],1)],1)],1)],1)],1)},I=[],$=l("10b8"),A={props:{touseModel:{required:!0},isAdd:{required:!0},selected:{required:!1}},data:()=>({genders:["male","female","other"],states:["OH","PA","MI"],valid:!0,loading:!1,cardTypes:[{value:"visa",text:"Visa Express"},{value:"master",text:"Mastard"}],defaultModel:{email:null,phone:null,first_name:"New",last_name:"Employee",middle_name:null,gender:"male",picker:null,activePicker:null,date_of_birth:null,menu:!1,license_state:null,license_number:null,is_active:null},select:null,form:{username:{label:"Username",placeholder:"Tookit",rules:[e=>!!e||"This field is required"]},card_type:{label:"Card type",placeholder:"Mater",rules:[e=>!!e||"This field is required"]},password:{label:"Password",placeholder:"xxx",rules:[e=>!!e||"This field is required"]},email:{label:"Email",placeholder:"wangqiangshen@gmail.com",icon:"mdi-email",rules:[e=>!!e||"This field is required",e=>$["a"].test(e)||"Invalid email"]},phone:{label:"phone",placeholder:"18682157492",icon:"mdi-phone",rules:[e=>!!e||"This field is required"]},firstname:{label:"Firstname",placeholder:"Firstname",rules:[e=>!!e||"This field is required"]},lastname:{label:"Lastname",placeholder:"Lastname",rules:[e=>!!e||"This field is required"]},middlename:{label:"Middlename",placeholder:"Middlename",rules:[e=>!!e||"This field is required"]},gender:{label:"Employee Selector",placeholder:"gender",rules:[e=>!!e||"This field is required"]},licensestate:{label:"LicenseState",placeholder:"Select State",rules:[e=>!!e||"This field is required"]},licensenumber:{label:"License Number",placeholder:"OH8894443",rules:[e=>!!e||"This field is required"]}},formHasErrors:!1,locobj:{}}),computed:{...Object(x["c"])(["getAllEmployees","getAuthSet"]),formTitle(){return"Employee form User"},formModel:{get(){return this.touseModel},set(e){this.touseModel=e}},allemployees(){return this.getAllEmployees},useSelect(){return this.getAuthSet&&!this.isAdd}},watch:{menu(e){e&&setTimeout(()=>this.activePicker="YEAR")}},created(){this.setupEmployee()},methods:{save(e){this.$refs.menu.save(e)},async setupEmployee(){this.useSelect&&(this.selected?await this.$store.dispatch("LoadEmployees").finally(()=>{var e=this.allemployees.find(e=>e.email===this.selected);this.allemployees.unshift(this.defaultModel),this.handleSelected(e)}):await this.$store.dispatch("LoadEmployees").finally(()=>{this.allemployees.unshift(this.defaultModel)}))},handleSelected(e){this.formModel=Object.assign({},e)}}},D=A,T=l("2877"),V=Object(T["a"])(D,S,I,!1,null,null,null),q=V.exports,O={data:()=>({dialog:!1,dialogDelete:!1,loading:!1,isadd:!0,components:{EmployeeForm:q},headers:[{text:"First Name",align:"start",sortable:!1,value:"first_name"},{text:"Last Name",value:"last_name"},{text:"Email",value:"email"},{text:"Phone Number",value:"phone_number"},{text:"Active",value:"is_active"},{text:"Random Selected",value:"is_selected_random"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,formModel:{email:null,phone:null,first_name:null,last_name:null,middle_name:null,gender:"male",picker:null,activePicker:null,date_of_birth:null,menu:!1,license_state:null,license_number:null},editedItem:{email:null,phone:null,first_name:null,last_name:null,middle_name:null,gender:"male",picker:null,activePicker:null,date_of_birth:null,menu:!1,license_state:null,license_number:null},defaultItem:{email:null,phone:null,first_name:null,last_name:null,middle_name:null,gender:"male",picker:null,activePicker:null,date_of_birth:null,menu:!1,license_state:null,license_number:null}}),computed:{...Object(x["c"])(["getAllEmployees"]),itemsList:{get(){return this.getAllEmployees}},formTitle(){return-1===this.editedIndex?"Add New Employee":"Edit Employee"},isNew(){return-1===this.editedIndex}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize()},mounted(){console.log(this.itemsList)},methods:{initialize(){this.desserts=[]},editItem(e){this.editedIndex=this.itemsList.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},async deleteItemConfirm(){console.log("deleting.........",this.editedItem.id),await this.$store.dispatch("DeleteEmployee",this.editedItem.id),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},async save(){if(this.$refs.form.$refs.form.validate())if(this.loading=!0,console.log(this.formModel),this.isNew)this.loading=!0,console.log("sending new"),await this.$store.dispatch("CreateEmployee",this.editedItem).finally(()=>{this.loading=!1}),this.close();else{console.log("sending update");var e=this.itemsList[this.editedIndex];console.log(e),console.log(this.editedItem);let t={};t.id=e.id,t.data=this.editedItem,await this.$store.dispatch("UpdateEmployee",t).finally(()=>{this.loading=!1}),this.close()}},toUseIcon(e){return e?"mdi-check":"mdi-account"}},components:{EmployeeForm:q}},L=O,j=Object(T["a"])(L,g,_,!1,null,null,null),P=j.exports,F={components:{EmployeeTable:P},data(){return{loading:!0}},async mounted(){await this.$store.dispatch("LoadEmployees").finally(()=>{this.loading=!1})}},B=F,N=Object(T["a"])(B,r,n,!1,null,null,null);t["default"]=N.exports},"9d01":function(e,t,l){},b73d:function(e,t,l){"use strict";l("ec29"),l("9d01");var i=l("c37a"),s=l("5607"),a=l("a026"),o=a["a"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),r=l("8547"),n=l("58df");function d(e){e.preventDefault()}var c=Object(n["a"])(i["a"],o,r["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some(t=>this.valueComparator(t,e)):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=i["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:d},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:d},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const l=t.length;t=t.filter(t=>!this.valueComparator(t,e)),t.length===l&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}}),u=l("c3f0"),m=l("0789"),h=l("490a"),p=l("80d2");t["a"]=c.extend({name:"v-switch",directives:{Touch:u["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...t}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(m["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(h["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===p["y"].left&&this.isActive||e.keyCode===p["y"].right&&!this.isActive)&&this.onChange()}}})},ec29:function(e,t,l){}}]);